{% load static %}

<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CSS Links -->
    {% block extra_css %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css"
        integrity="sha512-t4GWSVZO1eC8BM339Xd7Uphw5s17a86tIZIj8qRxhnKub6WoyhnrxeCIMeAqBPgdZGlCcG2PrZjMc+Wr78+5Xg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- navbar css -->
    <link rel="stylesheet" href="{% static 'css/navbar.css' %}">
    <!-- color mode css -->
    <link rel="stylesheet" href="{% static 'css/color-mode.css' %}">
    {% endblock %}

    <!-- Font Awesome link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google font link -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
        rel="stylesheet">
    <!-- Favicon link -->

    <!-- SEO-related meta tags -->
    <meta name="description"
        content="DealDesk - An easy-to-use CRM solution tailored to the specific needs of SMEs. Overcome barriers to adopting CRM systems with DealDesk.">
    <meta name="keywords"
        content="CRM solution, SME CRM, Easy-to-use CRM, Customer experience, Efficiency, Data management, Cloud-based solution, Customer data, Automation, Customer satisfaction, Revenue growth, Informed decision-making">
    <meta name="author" content="PJDEVEX">
    <meta name="robots" content="index, nofollow">

    <!-- Dynamic titles along with the brand name -->
    <title>{% block title %}{% endblock %} | DealDesk CRM</title>
</head>


<body>
    <header class="navbar sticky-top flex-md-nowrap p-0 shadow fixed-top">
        <!-- branding -->
        <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3 fs-6 rounded-bottom-5" href="#">
            <div class="card" style="width: 8rem;">
                <img src="https://res.cloudinary.com/pjdevex/image/upload/v1687544628/static/dealdesk_crm_logo/dd_hr_light_rnrq97.webp"
                    alt="DealDesk | CRM" class="card-img-top rounded">
            </div>
        </a>



        <!-- Toggle navbar -->
        <ul class="navbar-nav flex-row d-md-none">
            <li class="nav-item text-nowrap">
                <button class="nav-link px-3" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarMenu"
                    aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fa-solid fa-bars"></i>
                </button>

            </li>
        </ul>
    </header>


    <div class="container-fluid">
        <div class="row">
            <!-- side navbar -->
            {% include 'includes/navbar.html' %}
            <!-- Main body -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                {% block content %}

                {% endblock %}

            </main>
        </div>
    </div>

    <!-- Color mode change -->
    <div>
        {% include 'includes/color-mode.html' %}
    </div>

    <!-- Links to script files -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>

    <!-- Chart.js library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script src="{% static 'script/color-mode.js' %}"></script>

    <!-- Dashboard chart js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Dashboard chart js -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const ctx = document.getElementById('lead-winning-chance-chart');
        const labels = {{ winning_chance_labels|safe }};
        const data = {{ winning_chance_data|safe }};

        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [{
                    label: '{{ labels|safe }}',
                    data: data,
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });
    });
</script>



</body>

</html>